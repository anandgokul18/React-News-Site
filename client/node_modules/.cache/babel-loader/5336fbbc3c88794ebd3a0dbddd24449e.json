{"ast":null,"code":"var _jsxFileName = \"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/ExpandedCard.js\";\nimport React, { Component } from 'react'; //Cards\n\nimport styled from 'styled-components'; //Truncating Content in Cards\n\nimport Truncate from 'react-truncate'; //React Share\n\nimport ShareIcon from '@material-ui/icons/Share';\nimport { EmailShareButton, FacebookShareButton, TwitterShareButton, FacebookIcon, EmailIcon, TwitterIcon } from \"react-share\";\nimport { Modal, Button } from 'react-bootstrap'; //Loader Spinner\n\nimport { css } from \"@emotion/core\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\n\nclass ExpandedCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      posts: [],\n      isShareModalOpen: false,\n      shareTitle: '',\n      shareURL: '',\n      cardExpanded: false,\n      cardId: '',\n      expandedCardContent: {},\n      errorExpanded: null\n    };\n    this.props = {\n      currentPage: ''\n    };\n  }\n\n  truncateDate(dateinput) {\n    return dateinput.substring(0, 10);\n  }\n\n  categoryHandler(category) {\n    return category.toUpperCase();\n  }\n\n  imageHandler(url) {\n    let currentimage = '';\n\n    try {\n      currentimage = url.elements[0].assets[0].file;\n    } catch (e) {\n      currentimage = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n    }\n\n    return currentimage;\n  }\n\n  expandedCardContent() {\n    let requiredURL = \"http://localhost:9000/guardianAPIDetailed/\" + this.state.cardId;\n    fetch(requiredURL).then(response => response.json()).then( // handle the result\n    result => {\n      this.setState({\n        //isLoaded: true,\n        expandedCardContent: result.response.content\n      }); //console.log(this.state.posts)\n    }, // Handle error \n    errorExpanded => {\n      console.log(errorExpanded);\n      this.setState({\n        //isLoaded: true,\n        errorExpanded: true\n      });\n    });\n    const {\n      errorExpanded,\n      isLoaded,\n      expandedCardContent\n    } = this.state;\n\n    if (errorExpanded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, \"Error in loading...Please try again by clicking the same link...:)\");\n    }\n    /* else if (!isLoaded) {\n     //Handling when page not loaded\n     return <div style={{ textAlign: 'center', paddingTop: '100px' }}>\n        <BounceLoader\n           css={bounceCss}\n           size={35}\n           color={\"#4A68E2\"}\n           loading={!isLoaded}\n        />\n        Loading\n     </div>\n    } */\n    else {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 16\n          }\n        }, \"HELLO WORLD!\"), /*#__PURE__*/React.createElement(\"img\", {\n          class: \"img-thumbnail\",\n          src: this.imageHandler(expandedCardContent.blocks.main),\n          style: {\n            width: '200px',\n            minWidth: '200px',\n            margin: '10px'\n          },\n          alt: \"Image Not Found\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 16\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: '20px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 51\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 22\n          }\n        }, expandedCardContent.webTitle), /*#__PURE__*/React.createElement(ShareIcon, {\n          onClick: () => {\n            this.toggleModal();\n            this.setState({\n              shareTitle: expandedCardContent.webTitle,\n              shareURL: expandedCardContent.webUrl\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 22\n          }\n        }))), \" \", /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            fontSize: '12px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Truncate, {\n          lines: 6,\n          ellipsis: /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 52\n            }\n          }, \"... \"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 22\n          }\n        }, expandedCardContent.blocks.body[0].bodyTextSummary)), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"wrapper\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          id: \"left\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 22\n          }\n        }, this.truncateDate(expandedCardContent.webPublicationDate)), /*#__PURE__*/React.createElement(\"div\", {\n          id: \"right\",\n          style: this.categoryCss(expandedCardContent.sectionId),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 22\n          }\n        }, this.categoryHandler(expandedCardContent.sectionId)))));\n      }\n  }\n\n  componentDidMount() {\n    //Fetching from the NodeJS backend\n    let requiredURL = '';\n\n    if (this.props.currentPage === 'world') {\n      requiredURL = \"http://localhost:9000/guardianAPIWorld\";\n    } else if (this.props.currentPage === 'politics') {\n      requiredURL = \"http://localhost:9000/guardianAPIPolitics\";\n    } else if (this.props.currentPage === 'business') {\n      requiredURL = \"http://localhost:9000/guardianAPIBusiness\";\n    } else if (this.props.currentPage === 'technology') {\n      requiredURL = \"http://localhost:9000/guardianAPITechnology\";\n    } else if (this.props.currentPage === 'sports') {\n      requiredURL = \"http://localhost:9000/guardianAPISports\";\n    } else {\n      requiredURL = \"http://localhost:9000/guardianAPI\";\n    }\n\n    fetch(requiredURL).then(response => response.json()).then( // handle the result\n    result => {\n      this.setState({\n        isLoaded: true,\n        posts: result.response.results\n      }); //console.log(this.state.posts)\n    }, // Handle error \n    error => {\n      console.log(error);\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      posts\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, \"Error in loading...Please try again by clicking the same link...:)\");\n    } else if (!isLoaded) {\n      //Handling when page not loaded\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '100px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(BounceLoader, {\n        css: bounceCss,\n        size: 35,\n        color: \"#4A68E2\",\n        loading: !this.state.isLoaded,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }\n      }), \"Loading\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ExpandedCardDiv, {\n        className: this.state.cardExpanded ? 'block' : 'hidden',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 16\n        }\n      }, this.expandedCardContent), /*#__PURE__*/React.createElement(Modal, {\n        size: \"lg\",\n        \"aria-labelledby\": \"example-modal-sizes-title-lg\",\n        show: this.state.isShareModalOpen,\n        onHide: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        id: \"example-modal-sizes-title-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 22\n        }\n      }, this.state.shareTitle)), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          fontSize: '25px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 77\n        }\n      }, \"Share via\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 93\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          display: 'flex',\n          justifyContent: 'space-around'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(FacebookShareButton, {\n        url: this.state.shareURL,\n        hashtag: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 25\n        }\n      }, \" \", /*#__PURE__*/React.createElement(FacebookIcon, {\n        size: 64,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 102\n        }\n      })), /*#__PURE__*/React.createElement(TwitterShareButton, {\n        url: this.state.shareURL,\n        title: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(TwitterIcon, {\n        size: 64,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 97\n        }\n      })), /*#__PURE__*/React.createElement(EmailShareButton, {\n        url: this.state.shareURL,\n        subject: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EmailIcon, {\n        size: 64,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 97\n        }\n      }))))));\n    }\n  }\n\n}\n\nconst ExpandedCardDiv = styled.div`\n  background: #fff;\n  border-radius: 2px;\n  display: flex;\n  height: 720px;\n  margin: 1.5rem;\n  position: relative;\n  width: 98%;\n  box-shadow: 0.2px 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  /*box-shadow: 2.5px 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);*/\n   transition: all 0.3s cubic - bezier(.25, .8, .25, 1);\n   padding - top: 5px;\n  &: hover {\n      /*box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);*/\n      box - shadow: 2.5px 5px 10px rgba(0, 0, 0, 0.19), 0 3px 3px rgba(0, 0, 0, 0.23);\n      transform: translateY(-0.5px);\n   },\n   `;\nconst bounceCss = css`\n   display: block;\n   margin: 0 auto;\n   border - color: red;\n   `;\nexport default ExpandedCard;","map":{"version":3,"sources":["/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/ExpandedCard.js"],"names":["React","Component","styled","Truncate","ShareIcon","EmailShareButton","FacebookShareButton","TwitterShareButton","FacebookIcon","EmailIcon","TwitterIcon","Modal","Button","css","BounceLoader","ExpandedCard","constructor","props","state","error","isLoaded","posts","isShareModalOpen","shareTitle","shareURL","cardExpanded","cardId","expandedCardContent","errorExpanded","currentPage","truncateDate","dateinput","substring","categoryHandler","category","toUpperCase","imageHandler","url","currentimage","elements","assets","file","e","requiredURL","fetch","then","response","json","result","setState","content","console","log","blocks","main","width","minWidth","margin","fontSize","webTitle","toggleModal","webUrl","body","bodyTextSummary","webPublicationDate","categoryCss","sectionId","componentDidMount","results","render","textAlign","paddingTop","bounceCss","display","justifyContent","ExpandedCardDiv","div"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,gBAArB,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SACGC,gBADH,EAEGC,mBAFH,EAGGC,kBAHH,EAIGC,YAJH,EAKGC,SALH,EAMGC,WANH,QAOO,aAPP;AAQA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,iBAA9B,C,CAEA;;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;;AAEA,MAAMC,YAAN,SAA2Bd,SAA3B,CAAqC;AAClCe,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACVC,MAAAA,KAAK,EAAE,IADG;AAEVC,MAAAA,QAAQ,EAAE,KAFA;AAGVC,MAAAA,KAAK,EAAE,EAHG;AAIVC,MAAAA,gBAAgB,EAAE,KAJR;AAKVC,MAAAA,UAAU,EAAE,EALF;AAMVC,MAAAA,QAAQ,EAAE,EANA;AAOVC,MAAAA,YAAY,EAAE,KAPJ;AAQVC,MAAAA,MAAM,EAAE,EARE;AASVC,MAAAA,mBAAmB,EAAE,EATX;AAUVC,MAAAA,aAAa,EAAE;AAVL,KAAb;AAYA,SAAKX,KAAL,GAAa;AACVY,MAAAA,WAAW,EAAE;AADH,KAAb;AAGF;;AAEDC,EAAAA,YAAY,CAACC,SAAD,EAAY;AACrB,WAAOA,SAAS,CAACC,SAAV,CAAoB,CAApB,EAAuB,EAAvB,CAAP;AACF;;AAEDC,EAAAA,eAAe,CAACC,QAAD,EAAW;AACvB,WAAOA,QAAQ,CAACC,WAAT,EAAP;AACF;;AAGDC,EAAAA,YAAY,CAACC,GAAD,EAAM;AACf,QAAIC,YAAY,GAAG,EAAnB;;AACA,QAAI;AACDA,MAAAA,YAAY,GAAGD,GAAG,CAACE,QAAJ,CAAa,CAAb,EAAgBC,MAAhB,CAAuB,CAAvB,EAA0BC,IAAzC;AACF,KAFD,CAEE,OAAOC,CAAP,EAAU;AACTJ,MAAAA,YAAY,GAAG,qFAAf;AACF;;AACD,WAAOA,YAAP;AACF;;AAEDX,EAAAA,mBAAmB,GAAG;AACnB,QAAIgB,WAAW,GAAG,+CAA+C,KAAKzB,KAAL,CAAWQ,MAA5E;AACAkB,IAAAA,KAAK,CAACD,WAAD,CAAL,CACIE,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,EAGM;AACCG,IAAAA,MAAD,IAAY;AACT,WAAKC,QAAL,CAAc;AACX;AACAtB,QAAAA,mBAAmB,EAAEqB,MAAM,CAACF,QAAP,CAAgBI;AAF1B,OAAd,EADS,CAKT;AACF,KAVP,EAYM;AACCtB,IAAAA,aAAD,IAAmB;AAChBuB,MAAAA,OAAO,CAACC,GAAR,CAAYxB,aAAZ;AACA,WAAKqB,QAAL,CAAc;AACX;AACArB,QAAAA,aAAa,EAAE;AAFJ,OAAd;AAIF,KAnBP;AAsBA,UAAM;AAAEA,MAAAA,aAAF;AAAiBR,MAAAA,QAAjB;AAA2BO,MAAAA;AAA3B,QAAmD,KAAKT,KAA9D;;AAEA,QAAIU,aAAJ,EAAmB;AAChB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8EAAP;AACF;AAAC;;;;;;;;;;;;AAFF,SAaU;AACP,4BACG,uDACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADH,eAEG;AAAM,UAAA,KAAK,EAAC,eAAZ;AAA4B,UAAA,GAAG,EAAE,KAAKQ,YAAL,CAAkBT,mBAAmB,CAAC0B,MAApB,CAA2BC,IAA7C,CAAjC;AAAqF,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,OAAT;AAAkBC,YAAAA,QAAQ,EAAE,OAA5B;AAAqCC,YAAAA,MAAM,EAAE;AAA7C,WAA5F;AACE,UAAA,GAAG,EAAC,iBADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFH,eAIG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACG;AAAG,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAK/B,mBAAmB,CAACgC,QAAzB,CAD6B,eAE7B,oBAAC,SAAD;AAAW,UAAA,OAAO,EAAE,MAAM;AACvB,iBAAKC,WAAL;AACA,iBAAKX,QAAL,CAAc;AACX1B,cAAAA,UAAU,EAAEI,mBAAmB,CAACgC,QADrB;AAEXnC,cAAAA,QAAQ,EAAEG,mBAAmB,CAACkC;AAFnB,aAAd;AAIF,WAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAF6B,CAAhC,CADH,oBAWG;AAAG,UAAA,KAAK,EAAE;AAAEH,YAAAA,QAAQ,EAAE;AAAZ,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACG,oBAAC,QAAD;AAAU,UAAA,KAAK,EAAE,CAAjB;AAAoB,UAAA,QAAQ,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI/B,mBAAmB,CAAC0B,MAApB,CAA2BS,IAA3B,CAAgC,CAAhC,EAAmCC,eADvC,CADH,CAXH,eAgBG;AAAK,UAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACG;AAAK,UAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgB,KAAKjC,YAAL,CAAkBH,mBAAmB,CAACqC,kBAAtC,CAAhB,CADH,eAEG;AAAK,UAAA,EAAE,EAAC,OAAR;AAAgB,UAAA,KAAK,EAAE,KAAKC,WAAL,CAAiBtC,mBAAmB,CAACuC,SAArC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyE,KAAKjC,eAAL,CAAqBN,mBAAmB,CAACuC,SAAzC,CAAzE,CAFH,CAhBH,CAJH,CADH;AA4BF;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AACjB;AACA,QAAIxB,WAAW,GAAG,EAAlB;;AACA,QAAI,KAAK1B,KAAL,CAAWY,WAAX,KAA2B,OAA/B,EAAwC;AACrCc,MAAAA,WAAW,GAAG,wCAAd;AACF,KAFD,MAGK,IAAI,KAAK1B,KAAL,CAAWY,WAAX,KAA2B,UAA/B,EAA2C;AAC7Cc,MAAAA,WAAW,GAAG,2CAAd;AACF,KAFI,MAGA,IAAI,KAAK1B,KAAL,CAAWY,WAAX,KAA2B,UAA/B,EAA2C;AAC7Cc,MAAAA,WAAW,GAAG,2CAAd;AACF,KAFI,MAGA,IAAI,KAAK1B,KAAL,CAAWY,WAAX,KAA2B,YAA/B,EAA6C;AAC/Cc,MAAAA,WAAW,GAAG,6CAAd;AACF,KAFI,MAGA,IAAI,KAAK1B,KAAL,CAAWY,WAAX,KAA2B,QAA/B,EAAyC;AAC3Cc,MAAAA,WAAW,GAAG,yCAAd;AACF,KAFI,MAGA;AACFA,MAAAA,WAAW,GAAG,mCAAd;AACF;;AACDC,IAAAA,KAAK,CAACD,WAAD,CAAL,CACIE,IADJ,CACSC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADrB,EAEIF,IAFJ,EAGM;AACCG,IAAAA,MAAD,IAAY;AACT,WAAKC,QAAL,CAAc;AACX7B,QAAAA,QAAQ,EAAE,IADC;AAEXC,QAAAA,KAAK,EAAE2B,MAAM,CAACF,QAAP,CAAgBsB;AAFZ,OAAd,EADS,CAKT;AACF,KAVP,EAYM;AACCjD,IAAAA,KAAD,IAAW;AACRgC,MAAAA,OAAO,CAACC,GAAR,CAAYjC,KAAZ;AACA,WAAK8B,QAAL,CAAc;AACX7B,QAAAA,QAAQ,EAAE,IADC;AAEXD,QAAAA;AAFW,OAAd;AAIF,KAnBP;AAqBF;;AAEDkD,EAAAA,MAAM,GAAG;AACN,UAAM;AAAElD,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKH,KAAxC;;AAEA,QAAIC,KAAJ,EAAW;AACR,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8EAAP;AACF,KAFD,MAEO,IAAI,CAACC,QAAL,EAAe;AACnB;AACA,0BAAO;AAAK,QAAA,KAAK,EAAE;AAAEkD,UAAAA,SAAS,EAAE,QAAb;AAAuBC,UAAAA,UAAU,EAAE;AAAnC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ,oBAAC,YAAD;AACG,QAAA,GAAG,EAAEC,SADR;AAEG,QAAA,IAAI,EAAE,EAFT;AAGG,QAAA,KAAK,EAAE,SAHV;AAIG,QAAA,OAAO,EAAE,CAAC,KAAKtD,KAAL,CAAWE,QAJxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADI,YAAP;AASF,KAXM,MAWA;AACJ,0BACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAcG,oBAAC,eAAD;AAAiB,QAAA,SAAS,EAAE,KAAKF,KAAL,CAAWO,YAAX,GAA0B,OAA1B,GAAoC,QAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,KAAKE,mBADT,CAdH,eAkBG,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,IAAZ;AAAiB,2BAAgB,8BAAjC;AAAgE,QAAA,IAAI,EAAE,KAAKT,KAAL,CAAWI,gBAAjF;AAAmG,QAAA,MAAM,EAAE,KAAKsC,WAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG,oBAAC,KAAD,CAAO,MAAP;AAAc,QAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG,oBAAC,KAAD,CAAO,KAAP;AAAa,QAAA,EAAE,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiD,KAAK1C,KAAL,CAAWK,UAA5D,CADH,CADH,eAIG,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG;AAAK,QAAA,KAAK,EAAE;AAAE+C,UAAAA,SAAS,EAAE,QAAb;AAAuBZ,UAAAA,QAAQ,EAAE;AAAjC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAvD,eAAuE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvE,CADH,eAEG;AAAK,QAAA,KAAK,EAAE;AAAEY,UAAAA,SAAS,EAAE,QAAb;AAAuBG,UAAAA,OAAO,EAAE,MAAhC;AAAwCC,UAAAA,cAAc,EAAE;AAAxD,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACG,oBAAC,mBAAD;AAAqB,QAAA,GAAG,EAAE,KAAKxD,KAAL,CAAWM,QAArC;AAA+C,QAAA,OAAO,EAAC,mBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA6E,oBAAC,YAAD;AAAc,QAAA,IAAI,EAAE,EAApB;AAAwB,QAAA,KAAK,EAAE,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA7E,CADH,eAEG,oBAAC,kBAAD;AAAoB,QAAA,GAAG,EAAE,KAAKN,KAAL,CAAWM,QAApC;AAA8C,QAAA,KAAK,EAAC,mBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwE,oBAAC,WAAD;AAAa,QAAA,IAAI,EAAE,EAAnB;AAAuB,QAAA,KAAK,EAAE,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxE,CAFH,eAGG,oBAAC,gBAAD;AAAkB,QAAA,GAAG,EAAE,KAAKN,KAAL,CAAWM,QAAlC;AAA4C,QAAA,OAAO,EAAC,mBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAwE,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAE,EAAjB;AAAqB,QAAA,KAAK,EAAE,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxE,CAHH,CAFH,CAJH,CAlBH,CADH;AAkCF;AACH;;AA9MiC;;AAiNrC,MAAMmD,eAAe,GAAGzE,MAAM,CAAC0E,GAAI;;;;;;;;;;;;;;;;;IAAnC;AAmBA,MAAMJ,SAAS,GAAG3D,GAAI;;;;IAAtB;AAMA,eAAeE,YAAf","sourcesContent":["import React, { Component } from 'react';\n\n//Cards\nimport styled from 'styled-components'\n\n//Truncating Content in Cards\nimport Truncate from 'react-truncate';\n\n//React Share\nimport ShareIcon from '@material-ui/icons/Share';\nimport {\n   EmailShareButton,\n   FacebookShareButton,\n   TwitterShareButton,\n   FacebookIcon,\n   EmailIcon,\n   TwitterIcon\n} from \"react-share\";\nimport { Modal, Button } from 'react-bootstrap';\n\n//Loader Spinner\nimport { css } from \"@emotion/core\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\n\nclass ExpandedCard extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         error: null,\n         isLoaded: false,\n         posts: [],\n         isShareModalOpen: false,\n         shareTitle: '',\n         shareURL: '',\n         cardExpanded: false,\n         cardId: '',\n         expandedCardContent: {},\n         errorExpanded: null\n      };\n      this.props = {\n         currentPage: '',\n      }\n   }\n\n   truncateDate(dateinput) {\n      return dateinput.substring(0, 10);\n   }\n\n   categoryHandler(category) {\n      return category.toUpperCase();\n   }\n\n\n   imageHandler(url) {\n      let currentimage = '';\n      try {\n         currentimage = url.elements[0].assets[0].file;\n      } catch (e) {\n         currentimage = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n      }\n      return currentimage;\n   }\n\n   expandedCardContent() {\n      let requiredURL = \"http://localhost:9000/guardianAPIDetailed/\" + this.state.cardId;\n      fetch(requiredURL)\n         .then(response => response.json())\n         .then(\n            // handle the result\n            (result) => {\n               this.setState({\n                  //isLoaded: true,\n                  expandedCardContent: result.response.content\n               });\n               //console.log(this.state.posts)\n            },\n\n            // Handle error \n            (errorExpanded) => {\n               console.log(errorExpanded);\n               this.setState({\n                  //isLoaded: true,\n                  errorExpanded: true\n               })\n            },\n         )\n\n      const { errorExpanded, isLoaded, expandedCardContent } = this.state;\n\n      if (errorExpanded) {\n         return <div>Error in loading...Please try again by clicking the same link...:)</div>\n      } /* else if (!isLoaded) {\n         //Handling when page not loaded\n         return <div style={{ textAlign: 'center', paddingTop: '100px' }}>\n            <BounceLoader\n               css={bounceCss}\n               size={35}\n               color={\"#4A68E2\"}\n               loading={!isLoaded}\n            />\n            Loading\n         </div>\n      } */ else {\n         return (\n            <>\n               <div>HELLO WORLD!</div>\n               < img class=\"img-thumbnail\" src={this.imageHandler(expandedCardContent.blocks.main)} style={{ width: '200px', minWidth: '200px', margin: '10px' }\n               } alt=\"Image Not Found\" />\n               <div>\n                  <p style={{ fontSize: '20px' }}><i>\n                     <b >{expandedCardContent.webTitle}</b>\n                     <ShareIcon onClick={() => {\n                        this.toggleModal();\n                        this.setState({\n                           shareTitle: expandedCardContent.webTitle,\n                           shareURL: expandedCardContent.webUrl\n                        });\n                     }} />\n                  </i></p> {/* Title */}\n                  <p style={{ fontSize: '12px' }}>\n                     <Truncate lines={6} ellipsis={<span>... </span>}>\n                        {expandedCardContent.blocks.body[0].bodyTextSummary}\n                     </Truncate>\n                  </p>\n                  <div id='wrapper' >\n                     <div id=\"left\">{this.truncateDate(expandedCardContent.webPublicationDate)}</div>\n                     <div id=\"right\" style={this.categoryCss(expandedCardContent.sectionId)}>{this.categoryHandler(expandedCardContent.sectionId)}</div>\n                  </div>\n               </div>\n            </>\n         );\n      }\n   }\n\n   componentDidMount() {\n      //Fetching from the NodeJS backend\n      let requiredURL = '';\n      if (this.props.currentPage === 'world') {\n         requiredURL = \"http://localhost:9000/guardianAPIWorld\";\n      }\n      else if (this.props.currentPage === 'politics') {\n         requiredURL = \"http://localhost:9000/guardianAPIPolitics\";\n      }\n      else if (this.props.currentPage === 'business') {\n         requiredURL = \"http://localhost:9000/guardianAPIBusiness\";\n      }\n      else if (this.props.currentPage === 'technology') {\n         requiredURL = \"http://localhost:9000/guardianAPITechnology\";\n      }\n      else if (this.props.currentPage === 'sports') {\n         requiredURL = \"http://localhost:9000/guardianAPISports\";\n      }\n      else {\n         requiredURL = \"http://localhost:9000/guardianAPI\";\n      }\n      fetch(requiredURL)\n         .then(response => response.json())\n         .then(\n            // handle the result\n            (result) => {\n               this.setState({\n                  isLoaded: true,\n                  posts: result.response.results\n               });\n               //console.log(this.state.posts)\n            },\n\n            // Handle error \n            (error) => {\n               console.log(error);\n               this.setState({\n                  isLoaded: true,\n                  error\n               })\n            },\n         )\n   }\n\n   render() {\n      const { error, isLoaded, posts } = this.state;\n\n      if (error) {\n         return <div>Error in loading...Please try again by clicking the same link...:)</div>\n      } else if (!isLoaded) {\n         //Handling when page not loaded\n         return <div style={{ textAlign: 'center', paddingTop: '100px' }}>\n            <BounceLoader\n               css={bounceCss}\n               size={35}\n               color={\"#4A68E2\"}\n               loading={!this.state.isLoaded}\n            />\n            Loading\n         </div>\n      } else {\n         return (\n            <div>\n               {/* <ol>\n                  {\n                     posts.map(post => (\n                        <li align=\"start\">\n                           <div>\n                              <p>{post.title}</p>\n                              <p>{post.id}</p>\n                           </div>\n                        </li>\n                     ))\n                  }\n               </ol> */}\n\n               <ExpandedCardDiv className={this.state.cardExpanded ? 'block' : 'hidden'}>\n                  {this.expandedCardContent}\n               </ExpandedCardDiv>\n\n               <Modal size=\"lg\" aria-labelledby=\"example-modal-sizes-title-lg\" show={this.state.isShareModalOpen} onHide={this.toggleModal}>\n                  <Modal.Header closeButton>\n                     <Modal.Title id=\"example-modal-sizes-title-lg\" >{this.state.shareTitle}</Modal.Title>\n                  </Modal.Header>\n                  <Modal.Body>\n                     <div style={{ textAlign: 'center', fontSize: '25px' }}><b>Share via</b><br /></div>\n                     <div style={{ textAlign: 'center', display: 'flex', justifyContent: 'space-around' }}>\n                        <FacebookShareButton url={this.state.shareURL} hashtag='#CSCI_571_NewsApp' > <FacebookIcon size={64} round={true} /></FacebookShareButton>\n                        <TwitterShareButton url={this.state.shareURL} title='#CSCI_571_NewsApp'><TwitterIcon size={64} round={true} /></TwitterShareButton>\n                        <EmailShareButton url={this.state.shareURL} subject='#CSCI_571_NewsApp'><EmailIcon size={64} round={true} /></EmailShareButton>\n                     </div>\n                  </Modal.Body>\n               </Modal>\n            </div>\n         );\n      }\n   }\n}\n\nconst ExpandedCardDiv = styled.div`\n  background: #fff;\n  border-radius: 2px;\n  display: flex;\n  height: 720px;\n  margin: 1.5rem;\n  position: relative;\n  width: 98%;\n  box-shadow: 0.2px 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  /*box-shadow: 2.5px 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);*/\n   transition: all 0.3s cubic - bezier(.25, .8, .25, 1);\n   padding - top: 5px;\n  &: hover {\n      /*box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);*/\n      box - shadow: 2.5px 5px 10px rgba(0, 0, 0, 0.19), 0 3px 3px rgba(0, 0, 0, 0.23);\n      transform: translateY(-0.5px);\n   },\n   `;\n\nconst bounceCss = css`\n   display: block;\n   margin: 0 auto;\n   border - color: red;\n   `;\n\nexport default ExpandedCard;"]},"metadata":{},"sourceType":"module"}