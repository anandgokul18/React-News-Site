{"ast":null,"code":"import _defineProperty from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectWithoutProperties from\"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{Component}from\"react\";import logo from\"./logo.svg\";import\"./App.css\";import'bootstrap/dist/css/bootstrap.min.css';//Page Core\nimport{BrowserRouter as Router,Switch,Route,Link}from'react-router-dom';//import NavBarTop from './component/NavBarTop';\n//Navbar Core\n//React-BS Button, Navbar and Switch Material-UI\nimport{Button,Navbar,Nav,NavItem,NavLink,NavDropdown,Form,FormControl}from'react-bootstrap';import BookmarkBorderOutlinedIcon from'@material-ui/icons/BookmarkBorderOutlined';import MaterialSwitch from'@material-ui/core/Switch';import FormGroup from'@material-ui/core/FormGroup';import FormControlLabel from'@material-ui/core/FormControlLabel';import{withStyles}from'@material-ui/core/styles';import InputGroup from'react-bootstrap/InputGroup';import KeyboardArrowDownIcon from'@material-ui/icons/KeyboardArrowDown';//Cards\nimport styled from'styled-components';//Tooltip for hover over bookmarks\nimport ReactTooltip from'react-tooltip';//Axios for Guardian and NYT\nimport GuardianPages from'./component/GuardianPages';import BookmarksPage from'./component/BookmarksPage';import SearchResultsPage from'./component/SearchResultsPage';import NYTPages from'./component/NYTPages';//Bookmark Page specific imports\nimport BookmarkIcon from'@material-ui/icons/Bookmark';//Search\n//import Search from './component/Search';\nimport SearchApp from'./component/SearchApp';import{createBrowserHistory}from'history';import SearchAppNoValue from'./component/SearchAppNoValue';var BlueIOSSwitch=withStyles(function(theme){return{root:{width:52,height:23,padding:0,margin:theme.spacing(1)},switchBase:{padding:1,'&$checked':{transform:'translateX(27.5px)',color:theme.palette.common.white,'& + $track':{backgroundColor:'#0693E3',opacity:1,border:'none'}},'&$focusVisible $thumb':{color:'#52d869',border:'6px solid #fff'}},thumb:{width:22,height:22},track:{borderRadius:26/2,border:\"1px solid \".concat(theme.palette.grey[400]),backgroundColor:theme.palette.grey[50],opacity:1,transition:theme.transitions.create(['background-color','border'])},checked:{},focusVisible:{}};})(function(_ref){var classes=_ref.classes,props=_objectWithoutProperties(_ref,[\"classes\"]);return/*#__PURE__*/React.createElement(MaterialSwitch,Object.assign({focusVisibleClassName:classes.focusVisible,disableRipple:true,classes:{root:classes.root,switchBase:classes.switchBase,thumb:classes.thumb,track:classes.track,checked:classes.checked}},props));});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleSwitchChange=function(nr){return function(){var switchNumber=\"switch\".concat(nr);_this.setState(_defineProperty({},switchNumber,!_this.state[switchNumber]));localStorage.setItem('switch1state',!(localStorage.getItem('switch1state')==='true'));};};_this.state={apiResponse:\"\",doSearch:false,fontColors:['#f9f9f9','#9b9b9b','#9b9b9b','#9b9b9b','#9b9b9b','#9b9b9b']};//Retrieving the switch1 state from Storage\nvar retrievedSwitch1stateObject=localStorage.getItem('switch1state');//console.log(retrievedObject);\nif(retrievedSwitch1stateObject==null){//console.log('Detected null');\n_this.state.switch1=true;localStorage.setItem('switch1state',JSON.stringify(true));}else{//console.log('Detected ' + (retrievedSwitch1stateObject === 'true'));\n_this.state.switch1=retrievedSwitch1stateObject==='true';}//Retrieving the switch1 state from Storage\nvar retrievedBookmarksObject=localStorage.getItem('isThisBookmarksPage');//console.log(retrievedObject);\nif(retrievedBookmarksObject==null){//console.log('Detected null');\n_this.state.isThisBookmarksPage=false;localStorage.setItem('isThisBookmarksPage',JSON.stringify(false));}else{//console.log('Detected ' + (retrievedObject === 'true'));\n_this.state.isThisBookmarksPage=retrievedBookmarksObject==='true';}//Retrieving the switch1 state from Storage\nvar retrievedSearchObject=localStorage.getItem('isThisSearchPage');//console.log(retrievedObject);\nif(retrievedSearchObject==null){//console.log('Detected null');\n_this.state.isThisSearchPage=false;localStorage.setItem('isThisSearchPage',JSON.stringify(false));}else{//console.log('Detected ' + (retrievedObject === 'true'));\n_this.state.isThisSearchPage=retrievedSearchObject==='true';}//Handlers for changing themes in Navbar based on search/bookmark\n_this.handlerToSetSearchAndBookmarksToFalseForNav=_this.handlerToSetSearchAndBookmarksToFalseForNav.bind(_assertThisInitialized(_this));_this.handlerToSetSearchToTrueForNav=_this.handlerToSetSearchToTrueForNav.bind(_assertThisInitialized(_this));//Handler for getting search query\n_this.handlerForGettingSearchQuery=_this.handlerForGettingSearchQuery.bind(_assertThisInitialized(_this));//Force Update on bookmarks state change\n_this.forceUpdateHandler=_this.forceUpdateHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"callAPI\",value:function callAPI(){var _this2=this;fetch(\"http://newswebsite.us-east-1.elasticbeanstalk.com/testAPI\").then(function(res){return res.text();}).then(function(res){return _this2.setState({apiResponse:res});}).catch(function(err){return err;});}},{key:\"componentDidMount\",value:function componentDidMount(){this.callAPI();}},{key:\"handlerToSetSearchAndBookmarksToFalseForNav\",value:function handlerToSetSearchAndBookmarksToFalseForNav(){localStorage.setItem('isThisSearchPage',JSON.stringify(false));localStorage.setItem('isThisBookmarksPage',JSON.stringify(false));this.state.isThisBookmarksPage=false;this.state.isThisSearchPage=false;//this.setState({\n//    isThisBookmarksPage: false,\n//    isThisSearchPage: false,\n//})\n}},{key:\"handlerToSetSearchToTrueForNav\",value:function handlerToSetSearchToTrueForNav(){localStorage.setItem('isThisSearchPage',JSON.stringify(true));this.state.isThisSearchPage=true;//this.setState({\n//    isThisBookmarksPage: false,\n//    isThisSearchPage: false,\n//})\n}},{key:\"handlerForGettingSearchQuery\",value:function handlerForGettingSearchQuery(dataquery){//console.log(dataquery);\nthis.forceUpdateHandler();this.setState({isThisSearchPage:true,isThisBookmarksPage:false});localStorage.setItem('isThisSearchPage',true);localStorage.setItem('isThisBookmarksPage',false);window.location='/search'+'?q='+dataquery;//history.push('/search' + '?q=' + dataquery);\n}},{key:\"forceUpdateHandler\",value:function forceUpdateHandler(){this.forceUpdate();}},{key:\"handleLinkColorOnClick\",value:function handleLinkColorOnClick(index){for(var i=0;i<this.state.fontColors.length;i++){if(index==i){this.state.fontColors[i]='#f9f9f9';//whitish\n}else{this.state.fontColors[i]='#9b9b9b';//grey\n}}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Navbar,{collapseOnSelect:true,expand:\"lg\"},\" \",/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:'10px',marginRight:'10px'}},this.state.isThisSearchPage?/*#__PURE__*/React.createElement(SearchApp,{searchQueryProp:this.handlerForGettingSearchQuery,onChange:function onChange(){_this3.forceUpdateHandler();_this3.handleLinkColorOnClick(100);}}):/*#__PURE__*/React.createElement(SearchAppNoValue,{searchQueryProp:this.handlerForGettingSearchQuery,onChange:function onChange(){_this3.forceUpdateHandler();_this3.handleLinkColorOnClick(100);}})),/*#__PURE__*/React.createElement(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/React.createElement(Navbar.Collapse,{id:\"responsive-navbar-nav\"},/*#__PURE__*/React.createElement(Nav,{className:\"mr-auto\"},\" \",/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/\",style:{color:this.state.fontColors[0],paddingRight:'10px'},active:true,onClick:function onClick(){_this3.handleLinkColorOnClick(0);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"Home\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/world\",style:{color:this.state.fontColors[1],paddingRight:'10px'},activeClassName:\"activeNavLink\",onClick:function onClick(){_this3.handleLinkColorOnClick(1);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"World\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/politics\",style:{color:this.state.fontColors[2],paddingRight:'10px'},activeClassName:\"activeNavLink\",onClick:function onClick(){_this3.handleLinkColorOnClick(2);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"Politics\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/business\",style:{color:this.state.fontColors[3],paddingRight:'10px'},onClick:function onClick(){_this3.handleLinkColorOnClick(3);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"Business\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/technology\",style:{color:this.state.fontColors[4],paddingRight:'10px'},onClick:function onClick(){_this3.handleLinkColorOnClick(4);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"Technology\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{to:\"/sports\",style:{color:this.state.fontColors[5],paddingRight:'10px'},onClick:function onClick(){_this3.handleLinkColorOnClick(5);_this3.forceUpdateHandler();_this3.setState({isThisBookmarksPage:false,isThisSearchPage:false});localStorage.setItem('isThisBookmarksPage',false);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');}},\"Sports\"))),/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isThisBookmarksPage||this.state.isThisSearchPage?/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isThisSearchPage?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{\"data-tip\":\"Bookmark\",to:\"/bookmarks\",onClick:function onClick(){_this3.handleLinkColorOnClick(100);_this3.setState({isThisSearchPage:false,isThisBookmarksPage:true});localStorage.setItem('isThisBookmarksPage',true);localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');_this3.forceUpdateHandler();}},/*#__PURE__*/React.createElement(BookmarkBorderOutlinedIcon,{style:{fontSize:30,color:\"#f9f9f9\"}})),/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",type:\"dark\",effect:\"float\"})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{\"data-tip\":\"Bookmark\",to:\"/bookmarks\",onClick:function onClick(){_this3.handleLinkColorOnClick(100);_this3.setState({isThisSearchPage:false});localStorage.setItem('isThisSearchPage',false);localStorage.removeItem('searchQuery');_this3.forceUpdateHandler();}},/*#__PURE__*/React.createElement(BookmarkIcon,{style:{fontSize:30,color:\"#fff\"}})),/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",type:\"dark\",effect:\"float\"}))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{\"data-tip\":\"Bookmark\",to:\"/bookmarks\",style:{paddingRight:'20px'},onClick:function onClick(){_this3.handleLinkColorOnClick(100);_this3.setState({isThisBookmarksPage:!_this3.state.isThisBookmarksPage});localStorage.setItem('isThisBookmarksPage',!(localStorage.getItem('isThisBookmarksPage')==='true'));localStorage.removeItem('searchQuery');_this3.forceUpdateHandler();}},/*#__PURE__*/React.createElement(BookmarkBorderOutlinedIcon,{style:{fontSize:30,color:\"#f9f9f9\"}})),/*#__PURE__*/React.createElement(ReactTooltip,{place:\"bottom\",type:\"dark\",effect:\"float\"}),/*#__PURE__*/React.createElement(\"div\",{style:{paddingRight:'20px',color:\"#f9f9f9\"}},\"NYTimes \"),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(FormControlLabel,{control:/*#__PURE__*/React.createElement(BlueIOSSwitch,{checked:this.state.switch1,onChange:this.handleSwitchChange(1),name:\"NYTorGuardian\"})})),/*#__PURE__*/React.createElement(\"div\",{style:{color:\"#f9f9f9\"}},\"Guardian \"))))),/*#__PURE__*/React.createElement(\"div\",null,this.state.switch1?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'home',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'home',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/world\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'world',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/politics\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'politics',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/business\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'business',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/technology\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'technology',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/sports\",component:function component(){return/*#__PURE__*/React.createElement(GuardianPages,{currentPage:'sports',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/bookmarks\",component:function component(){return/*#__PURE__*/React.createElement(BookmarksPage,null);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/search\",render:function render(props){return/*#__PURE__*/React.createElement(SearchResultsPage,Object.assign({},props,{currentOrigin:'GUARDIAN',searchTrueHandler:_this3.handlerToSetSearchToTrueForNav}));}})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'home',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'home',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/world\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'world',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/politics\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'politics',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/business\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'business',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/technology\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'technology',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/sports\",component:function component(){return/*#__PURE__*/React.createElement(NYTPages,{currentPage:'sports',searchOrBookmarksNavHandler:_this3.handlerToSetSearchAndBookmarksToFalseForNav});}}),/*#__PURE__*/React.createElement(Route,{path:\"/bookmarks\",component:function component(){return/*#__PURE__*/React.createElement(BookmarksPage,null);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/search\",render:function render(props){return/*#__PURE__*/React.createElement(SearchResultsPage,Object.assign({},props,{currentOrigin:'NYT',searchTrueHandler:_this3.handlerToSetSearchToTrueForNav}));}}))));}}]);return App;}(Component);var navlink={color:'#9b9b9b',paddingRight:'10px',\":active\":{color:'#f9f9f9'}};var history=createBrowserHistory();export default App;","map":{"version":3,"sources":["/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Link","Button","Navbar","Nav","NavItem","NavLink","NavDropdown","Form","FormControl","BookmarkBorderOutlinedIcon","MaterialSwitch","FormGroup","FormControlLabel","withStyles","InputGroup","KeyboardArrowDownIcon","styled","ReactTooltip","GuardianPages","BookmarksPage","SearchResultsPage","NYTPages","BookmarkIcon","SearchApp","createBrowserHistory","SearchAppNoValue","BlueIOSSwitch","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","opacity","border","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","App","handleSwitchChange","nr","switchNumber","setState","state","localStorage","setItem","getItem","apiResponse","doSearch","fontColors","retrievedSwitch1stateObject","switch1","JSON","stringify","retrievedBookmarksObject","isThisBookmarksPage","retrievedSearchObject","isThisSearchPage","handlerToSetSearchAndBookmarksToFalseForNav","bind","handlerToSetSearchToTrueForNav","handlerForGettingSearchQuery","forceUpdateHandler","fetch","then","res","text","catch","err","callAPI","dataquery","window","location","forceUpdate","index","i","length","paddingLeft","marginRight","handleLinkColorOnClick","paddingRight","removeItem","fontSize","navlink","history"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n//Page Core\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\n//import NavBarTop from './component/NavBarTop';\n\n//Navbar Core\n//React-BS Button, Navbar and Switch Material-UI\nimport { Button, Navbar, Nav, NavItem, NavLink, NavDropdown, Form, FormControl } from 'react-bootstrap'\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\nimport MaterialSwitch from '@material-ui/core/Switch';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\n//Cards\nimport styled from 'styled-components';\n\n//Tooltip for hover over bookmarks\nimport ReactTooltip from 'react-tooltip';\n\n//Axios for Guardian and NYT\nimport GuardianPages from './component/GuardianPages';\nimport BookmarksPage from './component/BookmarksPage';\nimport SearchResultsPage from './component/SearchResultsPage';\nimport NYTPages from './component/NYTPages';\n\n//Bookmark Page specific imports\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\n\n//Search\n//import Search from './component/Search';\nimport SearchApp from './component/SearchApp';\nimport { createBrowserHistory } from 'history';\nimport SearchAppNoValue from './component/SearchAppNoValue';\n\nconst BlueIOSSwitch = withStyles((theme) => ({\n    root: {\n        width: 52,\n        height: 23,\n        padding: 0,\n        margin: theme.spacing(1),\n    },\n    switchBase: {\n        padding: 1,\n        '&$checked': {\n            transform: 'translateX(27.5px)',\n            color: theme.palette.common.white,\n            '& + $track': {\n                backgroundColor: '#0693E3',\n                opacity: 1,\n                border: 'none',\n            },\n        },\n        '&$focusVisible $thumb': {\n            color: '#52d869',\n            border: '6px solid #fff',\n        },\n    },\n    thumb: {\n        width: 22,\n        height: 22,\n    },\n    track: {\n        borderRadius: 26 / 2,\n        border: `1px solid ${theme.palette.grey[400]}`,\n        backgroundColor: theme.palette.grey[50],\n        opacity: 1,\n        transition: theme.transitions.create(['background-color', 'border']),\n    },\n    checked: {},\n    focusVisible: {},\n}))(({ classes, ...props }) => {\n    return (\n        <MaterialSwitch\n            focusVisibleClassName={classes.focusVisible}\n            disableRipple\n            classes={{\n                root: classes.root,\n                switchBase: classes.switchBase,\n                thumb: classes.thumb,\n                track: classes.track,\n                checked: classes.checked,\n            }}\n            {...props}\n        />\n    );\n});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiResponse: \"\",\n            doSearch: false,\n            fontColors: ['#f9f9f9', '#9b9b9b', '#9b9b9b', '#9b9b9b', '#9b9b9b', '#9b9b9b'],\n        };\n        //Retrieving the switch1 state from Storage\n        var retrievedSwitch1stateObject = localStorage.getItem('switch1state');\n        //console.log(retrievedObject);\n        if (retrievedSwitch1stateObject == null) {\n            //console.log('Detected null');\n            this.state.switch1 = true;\n            localStorage.setItem('switch1state', JSON.stringify(true));\n        } else {\n            //console.log('Detected ' + (retrievedSwitch1stateObject === 'true'));\n            this.state.switch1 = (retrievedSwitch1stateObject === 'true');\n        }\n\n        //Retrieving the switch1 state from Storage\n        var retrievedBookmarksObject = localStorage.getItem('isThisBookmarksPage');\n        //console.log(retrievedObject);\n        if (retrievedBookmarksObject == null) {\n            //console.log('Detected null');\n            this.state.isThisBookmarksPage = false;\n            localStorage.setItem('isThisBookmarksPage', JSON.stringify(false));\n        } else {\n            //console.log('Detected ' + (retrievedObject === 'true'));\n            this.state.isThisBookmarksPage = (retrievedBookmarksObject === 'true');\n        }\n\n        //Retrieving the switch1 state from Storage\n        var retrievedSearchObject = localStorage.getItem('isThisSearchPage');\n        //console.log(retrievedObject);\n        if (retrievedSearchObject == null) {\n            //console.log('Detected null');\n            this.state.isThisSearchPage = false;\n            localStorage.setItem('isThisSearchPage', JSON.stringify(false));\n        } else {\n            //console.log('Detected ' + (retrievedObject === 'true'));\n            this.state.isThisSearchPage = (retrievedSearchObject === 'true');\n        }\n\n        //Handlers for changing themes in Navbar based on search/bookmark\n        this.handlerToSetSearchAndBookmarksToFalseForNav = this.handlerToSetSearchAndBookmarksToFalseForNav.bind(this);\n        this.handlerToSetSearchToTrueForNav = this.handlerToSetSearchToTrueForNav.bind(this);\n\n        //Handler for getting search query\n        this.handlerForGettingSearchQuery = this.handlerForGettingSearchQuery.bind(this);\n\n        //Force Update on bookmarks state change\n        this.forceUpdateHandler = this.forceUpdateHandler.bind(this);\n\n    }\n\n    handleSwitchChange = nr => () => {\n        let switchNumber = `switch${nr}`;\n        this.setState({\n            [switchNumber]: !this.state[switchNumber]\n        });\n        localStorage.setItem('switch1state', !(localStorage.getItem('switch1state') === 'true'));\n    }\n\n    callAPI() {\n        fetch(\"http://newswebsite.us-east-1.elasticbeanstalk.com/testAPI\")\n            .then(res => res.text())\n            .then(res => this.setState({ apiResponse: res }))\n            .catch(err => err);\n    }\n\n    componentDidMount() {\n        this.callAPI();\n    }\n\n    handlerToSetSearchAndBookmarksToFalseForNav() {\n        localStorage.setItem('isThisSearchPage', JSON.stringify(false));\n        localStorage.setItem('isThisBookmarksPage', JSON.stringify(false));\n        this.state.isThisBookmarksPage = false;\n        this.state.isThisSearchPage = false;\n        //this.setState({\n        //    isThisBookmarksPage: false,\n        //    isThisSearchPage: false,\n        //})\n    }\n\n    handlerToSetSearchToTrueForNav() {\n        localStorage.setItem('isThisSearchPage', JSON.stringify(true));\n        this.state.isThisSearchPage = true;\n        //this.setState({\n        //    isThisBookmarksPage: false,\n        //    isThisSearchPage: false,\n        //})\n    }\n\n    handlerForGettingSearchQuery(dataquery) {\n        //console.log(dataquery);\n        this.forceUpdateHandler();\n        this.setState({ isThisSearchPage: true, isThisBookmarksPage: false });\n        localStorage.setItem('isThisSearchPage', true);\n        localStorage.setItem('isThisBookmarksPage', false);\n        window.location = '/search' + '?q=' + dataquery;\n        //history.push('/search' + '?q=' + dataquery);\n    }\n\n    forceUpdateHandler() {\n        this.forceUpdate();\n    };\n\n    handleLinkColorOnClick(index) {\n        for (let i = 0; i < this.state.fontColors.length; i++) {\n            if (index == i) {\n                this.state.fontColors[i] = '#f9f9f9'; //whitish\n            }\n            else {\n                this.state.fontColors[i] = '#9b9b9b'; //grey\n            }\n        }\n\n    }\n\n    render() {\n        return (\n            <Router>\n\n                <Navbar collapseOnSelect expand=\"lg\" > {/*bg=\"dark\" variant=\"dark\" */}\n\n                    <div style={{ paddingLeft: '10px', marginRight: '10px' }} >\n                        {this.state.isThisSearchPage\n                            ?\n                            <SearchApp searchQueryProp={this.handlerForGettingSearchQuery} onChange={() => { this.forceUpdateHandler(); this.handleLinkColorOnClick(100); }} />\n                            :\n                            <SearchAppNoValue searchQueryProp={this.handlerForGettingSearchQuery} onChange={() => { this.forceUpdateHandler(); this.handleLinkColorOnClick(100); }} />\n                        }\n                    </div>\n\n                    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n\n                    <Navbar.Collapse id=\"responsive-navbar-nav\">\n                        <Nav className=\"mr-auto\"> {/*activeKey=\"/home\"*/}\n\n                            <Nav.Item><Link to=\"/\" style={{ color: this.state.fontColors[0], paddingRight: '10px' }} active onClick={() => { this.handleLinkColorOnClick(0); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>Home</Link></Nav.Item>\n                            <Nav.Item><Link to=\"/world\" style={{ color: this.state.fontColors[1], paddingRight: '10px' }} activeClassName=\"activeNavLink\" onClick={() => { this.handleLinkColorOnClick(1); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>World</Link></Nav.Item>\n                            <Nav.Item><Link to=\"/politics\" style={{ color: this.state.fontColors[2], paddingRight: '10px' }} activeClassName=\"activeNavLink\" onClick={() => { this.handleLinkColorOnClick(2); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>Politics</Link></Nav.Item>\n                            <Nav.Item><Link to=\"/business\" style={{ color: this.state.fontColors[3], paddingRight: '10px' }} onClick={() => { this.handleLinkColorOnClick(3); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>Business</Link></Nav.Item>\n                            <Nav.Item><Link to=\"/technology\" style={{ color: this.state.fontColors[4], paddingRight: '10px' }} onClick={() => { this.handleLinkColorOnClick(4); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>Technology</Link></Nav.Item>\n                            <Nav.Item><Link to=\"/sports\" style={{ color: this.state.fontColors[5], paddingRight: '10px' }} onClick={() => { this.handleLinkColorOnClick(5); this.forceUpdateHandler(); this.setState({ isThisBookmarksPage: false, isThisSearchPage: false }); localStorage.setItem('isThisBookmarksPage', false); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); }}>Sports</Link></Nav.Item>\n\n                            {/* <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\n                            <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                            <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                            <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n                            <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\n                        </NavDropdown> */}\n\n                        </Nav>\n\n                        <>\n                            {this.state.isThisBookmarksPage || this.state.isThisSearchPage\n                                ?\n                                <>\n                                    {this.state.isThisSearchPage ?\n                                        <>\n                                            <Link data-tip=\"Bookmark\" to='/bookmarks' onClick={() => { this.handleLinkColorOnClick(100); this.setState({ isThisSearchPage: false, isThisBookmarksPage: true }); localStorage.setItem('isThisBookmarksPage', true); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); this.forceUpdateHandler(); }}>\n                                                <BookmarkBorderOutlinedIcon style={{ fontSize: 30, color: \"#f9f9f9\" }} />\n                                            </Link>\n                                            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"float\" />\n                                        </>\n                                        :\n                                        <>\n                                            <Link data-tip=\"Bookmark\" to='/bookmarks' onClick={() => { this.handleLinkColorOnClick(100); this.setState({ isThisSearchPage: false }); localStorage.setItem('isThisSearchPage', false); localStorage.removeItem('searchQuery'); this.forceUpdateHandler(); }}>\n                                                <BookmarkIcon style={{ fontSize: 30, color: \"#fff\" }} />\n                                            </Link>\n                                            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"float\" />\n                                        </>\n                                    }\n                                </>\n                                :\n                                <>\n                                    <Link data-tip=\"Bookmark\" to='/bookmarks' style={{ paddingRight: '20px' }} onClick={() => { this.handleLinkColorOnClick(100); this.setState({ isThisBookmarksPage: !this.state.isThisBookmarksPage }); localStorage.setItem('isThisBookmarksPage', !(localStorage.getItem('isThisBookmarksPage') === 'true')); localStorage.removeItem('searchQuery'); this.forceUpdateHandler(); }}>\n                                        <BookmarkBorderOutlinedIcon style={{ fontSize: 30, color: \"#f9f9f9\" }} />\n                                    </Link>\n                                    <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"float\" />\n                                    <div style={{ paddingRight: '20px', color: \"#f9f9f9\" }}>NYTimes </div>\n                                    <FormGroup>\n                                        <FormControlLabel\n                                            control={<BlueIOSSwitch checked={this.state.switch1} onChange={this.handleSwitchChange(1)} name=\"NYTorGuardian\" />}\n                                        />\n                                    </FormGroup>\n                                    <div style={{ color: \"#f9f9f9\" }}>Guardian </div>\n                                </>\n                            }\n                        </>\n\n\n                    </Navbar.Collapse>\n                </Navbar >\n\n                <div>\n                    {this.state.switch1\n                        ? <>\n                            <Route exact path='/' component={() => <GuardianPages currentPage={'home'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/home\" component={() => <GuardianPages currentPage={'home'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/world\" component={() => <GuardianPages currentPage={'world'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/politics\" component={() => <GuardianPages currentPage={'politics'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/business\" component={() => <GuardianPages currentPage={'business'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/technology\" component={() => <GuardianPages currentPage={'technology'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/sports\" component={() => <GuardianPages currentPage={'sports'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/bookmarks\" component={() => <BookmarksPage />} />\n                            <Route exact path=\"/search\" render={(props) => <SearchResultsPage {...props} currentOrigin={'GUARDIAN'} searchTrueHandler={this.handlerToSetSearchToTrueForNav} />} />\n\n\n                        </>\n                        : <>\n                            <Route exact path='/' component={() => <NYTPages currentPage={'home'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/home\" component={() => <NYTPages currentPage={'home'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/world\" component={() => <NYTPages currentPage={'world'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/politics\" component={() => <NYTPages currentPage={'politics'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/business\" component={() => <NYTPages currentPage={'business'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/technology\" component={() => <NYTPages currentPage={'technology'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/sports\" component={() => <NYTPages currentPage={'sports'} searchOrBookmarksNavHandler={this.handlerToSetSearchAndBookmarksToFalseForNav} />} />\n                            <Route path=\"/bookmarks\" component={() => <BookmarksPage />} />\n                            <Route exact path=\"/search\" render={(props) => <SearchResultsPage {...props} currentOrigin={'NYT'} searchTrueHandler={this.handlerToSetSearchToTrueForNav} />} />\n\n\n                        </>\n                    }\n                </div>\n\n\n            </Router >\n        );\n    }\n}\n\nconst navlink = {\n    color: '#9b9b9b',\n    paddingRight: '10px',\n    \":active\": {\n        color: '#f9f9f9'\n    }\n};\n\nconst history = createBrowserHistory();\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}