{"ast":null,"code":"var _jsxFileName = \"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Suggestions from 'components/Suggestions';\nconst {\n  API_KEY\n} = process.env;\nconst API_URL = 'http://api.musicgraph.com/api/v2/artist/suggest';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      query: '',\n      results: []\n    };\n\n    this.getInfo = () => {\n      axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`).then(({\n        data\n      }) => {\n        this.setState({\n          results: data.data\n        });\n      }).catch(() => this.setState({\n        error: true\n      }));\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.showDropdown()\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {// this.hideDropdown()\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Search for...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Suggestions, {\n      results: this.state.results,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/Search.js"],"names":["React","Component","axios","Suggestions","API_KEY","process","env","API_URL","Search","state","error","query","results","getInfo","get","then","data","setState","catch","handleInputChange","search","value","length","render","input"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAcC,OAAO,CAACC,GAA5B;AACA,MAAMC,OAAO,GAAG,iDAAhB;;AAEA,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC5BQ,KAD4B,GACpB;AACLC,MAAAA,KAAK,EAAE,KADF;AAELC,MAAAA,KAAK,EAAE,EAFF;AAGLC,MAAAA,OAAO,EAAE;AAHJ,KADoB;;AAAA,SAO5BC,OAP4B,GAOlB,MAAM;AACbX,MAAAA,KAAK,CAACY,GAAN,CAAW,GAAEP,OAAQ,YAAWH,OAAQ,WAAU,KAAKK,KAAL,CAAWE,KAAM,UAAnE,EACII,IADJ,CACS,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AACjB,aAAKC,QAAL,CAAc;AACXL,UAAAA,OAAO,EAAEI,IAAI,CAACA;AADH,SAAd;AAGF,OALJ,EAMIE,KANJ,CAMU,MAAM,KAAKD,QAAL,CAAc;AAAEP,QAAAA,KAAK,EAAE;AAAT,OAAd,CANhB;AAOF,KAf2B;;AAAA,SAiB5BS,iBAjB4B,GAiBR,MAAM;AACvB,WAAKF,QAAL,CAAc;AACXN,QAAAA,KAAK,EAAE,KAAKS,MAAL,CAAYC;AADR,OAAd,EAEG,MAAM;AACN,YAAI,KAAKZ,KAAL,CAAWE,KAAX,IAAoB,KAAKF,KAAL,CAAWE,KAAX,CAAiBW,MAAjB,GAA0B,CAAlD,EAAqD;AAClD;AACA,cAAI,KAAKb,KAAL,CAAWE,KAAX,CAAiBW,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACpC,iBAAKT,OAAL;AACF;AACH,SALD,MAKO,IAAI,CAAC,KAAKJ,KAAL,CAAWE,KAAhB,EAAuB,CAC3B;AACF;AACH,OAXD;AAYF,KA9B2B;AAAA;;AAgC5BY,EAAAA,MAAM,GAAG;AACN,wBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AACG,MAAA,WAAW,EAAC,eADf;AAEG,MAAA,GAAG,EAAEC,KAAK,IAAI,KAAKJ,MAAL,GAAcI,KAF/B;AAGG,MAAA,QAAQ,EAAE,KAAKL,iBAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,eAMG,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKV,KAAL,CAAWG,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANH,CADH;AAUF;;AA3C2B;;AA8C/B,eAAeJ,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport Suggestions from 'components/Suggestions'\n\nconst { API_KEY } = process.env\nconst API_URL = 'http://api.musicgraph.com/api/v2/artist/suggest'\n\nclass Search extends Component {\n   state = {\n      error: false,\n      query: '',\n      results: []\n   }\n\n   getInfo = () => {\n      axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`)\n         .then(({ data }) => {\n            this.setState({\n               results: data.data\n            })\n         })\n         .catch(() => this.setState({ error: true }))\n   }\n\n   handleInputChange = () => {\n      this.setState({\n         query: this.search.value\n      }, () => {\n         if (this.state.query && this.state.query.length > 1) {\n            // this.showDropdown()\n            if (this.state.query.length % 2 === 0) {\n               this.getInfo()\n            }\n         } else if (!this.state.query) {\n            // this.hideDropdown()\n         }\n      })\n   }\n\n   render() {\n      return (\n         <form>\n            <input\n               placeholder=\"Search for...\"\n               ref={input => this.search = input}\n               onChange={this.handleInputChange}\n            />\n            <Suggestions results={this.state.results} />\n         </form>\n      )\n   }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}