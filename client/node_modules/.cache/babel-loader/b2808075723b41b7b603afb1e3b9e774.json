{"ast":null,"code":"var _jsxFileName = \"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Button, Navbar, Nav, NavLink, NavDropdown, Form, FormControl } from 'react-bootstrap';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport Suggestions from './Suggestions';\nconst {\n  API_KEY\n} = process.env;\nconst API_URL = 'http://api.musicgraph.com/api/v2/artist/suggest';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: false,\n      query: '',\n      results: []\n    };\n\n    this.getInfo = () => {\n      axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`).then(({\n        data\n      }) => {\n        this.setState({\n          results: data.data\n        });\n      }).catch(() => this.setState({\n        error: true\n      }));\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          // this.showDropdown()\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {// this.hideDropdown()\n        }\n      });\n      this.props.searchQueryProp();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"input-group input-group-sm mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"form-control form-control-sm\",\n      type: \"text\",\n      placeholder: \"Enter keyword...\",\n      ref: input => this.search = input,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"input-group-text\",\n      id: \"inputGroup-sizing-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardArrowDownIcon, {\n      style: {\n        fontSize: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 76\n      }\n    })))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/Search.js"],"names":["React","Component","axios","Button","Navbar","Nav","NavLink","NavDropdown","Form","FormControl","InputGroup","KeyboardArrowDownIcon","Suggestions","API_KEY","process","env","API_URL","Search","state","error","query","results","getInfo","get","then","data","setState","catch","handleInputChange","search","value","length","props","searchQueryProp","render","input","fontSize"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,GAAzB,EAA8BC,OAA9B,EAAuCC,WAAvC,EAAoDC,IAApD,EAA0DC,WAA1D,QAA6E,iBAA7E;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,qBAAP,MAAkC,sCAAlC;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAcC,OAAO,CAACC,GAA5B;AACA,MAAMC,OAAO,GAAG,iDAAhB;;AAEA,MAAMC,MAAN,SAAqBhB,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC5BiB,KAD4B,GACpB;AACLC,MAAAA,KAAK,EAAE,KADF;AAELC,MAAAA,KAAK,EAAE,EAFF;AAGLC,MAAAA,OAAO,EAAE;AAHJ,KADoB;;AAAA,SAO5BC,OAP4B,GAOlB,MAAM;AACbpB,MAAAA,KAAK,CAACqB,GAAN,CAAW,GAAEP,OAAQ,YAAWH,OAAQ,WAAU,KAAKK,KAAL,CAAWE,KAAM,UAAnE,EACII,IADJ,CACS,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AACjB,aAAKC,QAAL,CAAc;AACXL,UAAAA,OAAO,EAAEI,IAAI,CAACA;AADH,SAAd;AAGF,OALJ,EAMIE,KANJ,CAMU,MAAM,KAAKD,QAAL,CAAc;AAAEP,QAAAA,KAAK,EAAE;AAAT,OAAd,CANhB;AAOF,KAf2B;;AAAA,SAiB5BS,iBAjB4B,GAiBR,MAAM;AACvB,WAAKF,QAAL,CAAc;AACXN,QAAAA,KAAK,EAAE,KAAKS,MAAL,CAAYC;AADR,OAAd,EAEG,MAAM;AACN,YAAI,KAAKZ,KAAL,CAAWE,KAAX,IAAoB,KAAKF,KAAL,CAAWE,KAAX,CAAiBW,MAAjB,GAA0B,CAAlD,EAAqD;AAClD;AACA,cAAI,KAAKb,KAAL,CAAWE,KAAX,CAAiBW,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACpC,iBAAKT,OAAL;AACF;AACH,SALD,MAKO,IAAI,CAAC,KAAKJ,KAAL,CAAWE,KAAhB,EAAuB,CAC3B;AACF;AACH,OAXD;AAYA,WAAKY,KAAL,CAAWC,eAAX;AACF,KA/B2B;AAAA;;AAiC5BC,EAAAA,MAAM,GAAG;AACN,wBAEG,oBAAE,IAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAC,iCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AACG,MAAA,KAAK,EAAC,8BADT;AAEG,MAAA,IAAI,EAAC,MAFR;AAGG,MAAA,WAAW,EAAC,kBAHf;AAIG,MAAA,GAAG,EAAEC,KAAK,IAAI,KAAKN,MAAL,GAAcM,KAJ/B;AAKG,MAAA,QAAQ,EAAE,KAAKP,iBALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,eAQG;AAAK,MAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AAAM,MAAA,KAAK,EAAC,kBAAZ;AAA+B,MAAA,EAAE,EAAC,sBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyD,oBAAC,qBAAD;AAAuB,MAAA,KAAK,EAAE;AAAEQ,QAAAA,QAAQ,EAAE;AAAZ,OAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzD,CADH,CARH,CADH,CAFH;AAiBF;;AAnD2B;;AAsD/B,eAAenB,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nimport { Button, Navbar, Nav, NavLink, NavDropdown, Form, FormControl } from 'react-bootstrap'\nimport InputGroup from 'react-bootstrap/InputGroup'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\nimport Suggestions from './Suggestions'\n\nconst { API_KEY } = process.env\nconst API_URL = 'http://api.musicgraph.com/api/v2/artist/suggest'\n\nclass Search extends Component {\n   state = {\n      error: false,\n      query: '',\n      results: []\n   }\n\n   getInfo = () => {\n      axios.get(`${API_URL}?api_key=${API_KEY}&prefix=${this.state.query}&limit=7`)\n         .then(({ data }) => {\n            this.setState({\n               results: data.data\n            })\n         })\n         .catch(() => this.setState({ error: true }))\n   }\n\n   handleInputChange = () => {\n      this.setState({\n         query: this.search.value\n      }, () => {\n         if (this.state.query && this.state.query.length > 1) {\n            // this.showDropdown()\n            if (this.state.query.length % 2 === 0) {\n               this.getInfo()\n            }\n         } else if (!this.state.query) {\n            // this.hideDropdown()\n         }\n      })\n      this.props.searchQueryProp();\n   }\n\n   render() {\n      return (\n\n         < Form >\n            <InputGroup className=\"input-group input-group-sm mb-3\">\n               <input\n                  class=\"form-control form-control-sm\"\n                  type=\"text\"\n                  placeholder=\"Enter keyword...\"\n                  ref={input => this.search = input}\n                  onChange={this.handleInputChange}\n               />\n               <div class=\"input-group-append\">\n                  <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\"><KeyboardArrowDownIcon style={{ fontSize: '15px' }} /></span>\n               </div>\n            </InputGroup>\n         </Form >\n      )\n   }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}