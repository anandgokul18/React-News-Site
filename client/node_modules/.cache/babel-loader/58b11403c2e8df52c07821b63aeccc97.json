{"ast":null,"code":"var _jsxFileName = \"/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/ExpandedCard.js\";\nimport React, { Component } from 'react'; //Cards\n\nimport styled from 'styled-components'; //Truncating Content in Cards\n\nimport Truncate from 'react-truncate'; //React Share\n\nimport ShareIcon from '@material-ui/icons/Share';\nimport { EmailShareButton, FacebookShareButton, TwitterShareButton, FacebookIcon, EmailIcon, TwitterIcon } from \"react-share\";\nimport { Modal, Button } from 'react-bootstrap'; //Loader Spinner\n\nimport { css } from \"@emotion/core\";\nimport BounceLoader from \"react-spinners/BounceLoader\"; //Tooltip for hover over bookmarks\n\nimport ReactTooltip from 'react-tooltip';\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined'; //Expand More\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'; //Time in text format\n\nimport Moment from 'react-moment'; //Bookmarks \n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport BookmarkIcon from '@material-ui/icons/Bookmark'; //Comment Box\n\nimport CommentBox from './CommentBox';\n\nclass ExpandedCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleExpandAdditionalContent = () => {\n      this.setState({\n        expandAdditionalContent: !this.state.expandAdditionalContent\n      });\n    };\n\n    this.notifyA = articleTitle => toast('Saving ' + articleTitle);\n\n    this.state = {\n      isLoaded: false,\n      shareTitle: '',\n      shareURL: '',\n      cardExpanded: false,\n      expandedCardContent: {},\n      errorExpanded: null,\n      expandAdditionalContent: false,\n      cardIdFromprop: props.currentCardId\n    };\n    this.props = {\n      isPartOfBookmarksProp: false\n    };\n    this.state.isPartOfBookmarks = this.props.isPartOfBookmarksProp;\n    console.log('Matrix World: ' + props.currentCardId);\n  }\n\n  truncateDate(dateinput) {\n    return dateinput.substring(0, 10);\n  }\n\n  categoryHandler(category) {\n    return category.toUpperCase();\n  }\n\n  imageHandler(url) {\n    let currentimage = '';\n\n    try {\n      currentimage = url.elements[0].assets[url.elements[0].assets.length - 1].file;\n    } catch (e) {\n      currentimage = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n    }\n\n    return currentimage;\n  }\n\n  bookmarkHandler(currentItem) {\n    //Checking whether other bookmarks exist\n    var retrievedObject = localStorage.getItem('bookmarks');\n\n    if (retrievedObject == null) {\n      // Put the object into storage\n      let arrayOfBookmarks = [{\n        'origin': 'GUARDIAN',\n        'datacontent': currentItem\n      }];\n      localStorage.setItem('bookmarks', JSON.stringify(arrayOfBookmarks));\n    } else {\n      //Append it to the list and put it back into storage\n      let retrievedObjectNew = JSON.parse(retrievedObject);\n      retrievedObjectNew.push({\n        'origin': 'GUARDIAN',\n        'datacontent': currentItem\n      });\n      localStorage.setItem('bookmarks', JSON.stringify(retrievedObjectNew));\n    }\n  }\n\n  componentDidMount() {\n    //Fetching from the NodeJS backend\n    let requiredURL = \"http://localhost:9000/guardianAPIDetailed?id=\" + this.state.cardIdFromprop;\n    fetch(requiredURL).then(response => response.json()).then( // handle the result\n    result => {\n      this.setState({\n        isLoaded: true,\n        expandedCardContent: result.response\n      }); //console.log(this.state.posts)\n    }, // Handle error \n    errorExpanded => {\n      console.log(errorExpanded);\n      this.setState({\n        isLoaded: true,\n        errorExpanded: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      errorExpanded,\n      isLoaded,\n      expandedCardContent\n    } = this.state;\n\n    if (errorExpanded) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, \"Error in loading...Please try again by clicking the same link...:)\");\n    } else if (!isLoaded) {\n      //Handling when page not loaded\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: '100px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(BounceLoader, {\n        css: bounceCss,\n        size: 35,\n        color: \"#4A68E2\",\n        loading: !isLoaded,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }), \"Loading\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ExpandedCardDiv, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '40px',\n          paddingLeft: '30px',\n          paddingTop: '20px',\n          paddingRight: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 117\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 121\n        }\n      }, expandedCardContent.content.webTitle), \"                  \")), \" \", /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"leftexpanded\",\n        style: {\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          fontSize: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(Moment, {\n        format: \"DD MMMM YYYY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 31\n        }\n      }, this.truncateDate(expandedCardContent.content.webPublicationDate))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"rightexpanded\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(FacebookShareButton, {\n        url: expandedCardContent.content.webUrl,\n        hashtag: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 34\n        }\n      }, \" \", /*#__PURE__*/React.createElement(FacebookIcon, {\n        size: 34,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 126\n        }\n      })), /*#__PURE__*/React.createElement(TwitterShareButton, {\n        url: expandedCardContent.content.webUrl,\n        title: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(TwitterIcon, {\n        size: 34,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 121\n        }\n      })), /*#__PURE__*/React.createElement(EmailShareButton, {\n        style: {\n          paddingRight: '50px'\n        },\n        url: expandedCardContent.content.webUrl,\n        subject: \"#CSCI_571_NewsApp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(EmailIcon, {\n        size: 34,\n        round: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 154\n        }\n      })), /*#__PURE__*/React.createElement(\"a\", {\n        \"data-tip\": \"Bookmark\",\n        onClick: () => {\n          this.notifyA(expandedCardContent.content.webTitle);\n          this.bookmarkHandler(expandedCardContent.content);\n          this.setState({\n            isPartOfBookmarks: !this.state.isPartOfBookmarks\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 34\n        }\n      }, this.state.isPartOfBookmarks ? /*#__PURE__*/React.createElement(BookmarkIcon, {\n        style: {\n          fontSize: 30,\n          color: \"#b80000\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 42\n        }\n      }) : /*#__PURE__*/React.createElement(BookmarkBorderOutlinedIcon, {\n        style: {\n          fontSize: 30,\n          color: \"#b80000\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 42\n        }\n      })), /*#__PURE__*/React.createElement(ReactTooltip, {\n        place: \"top\",\n        type: \"dark\",\n        effect: \"float\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 34\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        class: \"img-thumbnail\",\n        src: this.imageHandler(expandedCardContent.content.blocks.main),\n        alt: \"Image Is Loading...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontSize: '12px',\n          paddingTop: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 22\n        }\n      }, !this.state.expandAdditionalContent && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(Truncate, {\n        lines: 4,\n        ellipsis: /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 61\n          }\n        }, \"... \", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 71\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            alignContent: 'right'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 77\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            textAlign: 'right',\n            paddingRight: '20px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 34\n          }\n        }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n          style: {\n            fontSize: '40px'\n          },\n          onClick: e => this.toggleExpandAdditionalContent(),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 37\n          }\n        })))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 31\n        }\n      }, expandedCardContent.content.blocks.body[0].bodyTextSummary)), this.state.expandAdditionalContent && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 28\n        }\n      }, expandedCardContent.content.blocks.body[0].bodyTextSummary, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          alignContent: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: 'right',\n          paddingRight: '20px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(ExpandLessIcon, {\n        style: {\n          fontSize: '40px'\n        },\n        onClick: e => this.toggleExpandAdditionalContent(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 37\n        }\n      }))))))), /*#__PURE__*/React.createElement(CommentBox, {\n        currentCardId: this.props.currentCardId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 16\n        }\n      }));\n    }\n  }\n\n}\n\nconst ExpandedCardDiv = styled.div`\n  background: #fff;\n  border-radius: 2px;\n  display: flex;\n  height: 100%;\n  margin: 1.5rem;\n  position: relative;\n  width: 98%;\n  box-shadow: 0.2px 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  /*box-shadow: 2.5px 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);*/\n   transition: all 0.3s cubic - bezier(.25, .8, .25, 1);\n   padding - top: 5px;\n  &: hover {\n      /*box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);*/\n      box - shadow: 2.5px 5px 10px rgba(0, 0, 0, 0.19), 0 3px 3px rgba(0, 0, 0, 0.23);\n      transform: translateY(-0.5px);\n   },\n   `;\nconst bounceCss = css`\n   display: block;\n   margin: 0 auto;\n   border - color: red;\n   `;\nexport default ExpandedCard;","map":{"version":3,"sources":["/Users/anandgokul/Documents/FreeVar_Local/homework8-anandgok/frontend/client/src/component/ExpandedCard.js"],"names":["React","Component","styled","Truncate","ShareIcon","EmailShareButton","FacebookShareButton","TwitterShareButton","FacebookIcon","EmailIcon","TwitterIcon","Modal","Button","css","BounceLoader","ReactTooltip","BookmarkBorderOutlinedIcon","ExpandMoreIcon","ExpandLessIcon","Moment","ToastContainer","toast","BookmarkIcon","CommentBox","ExpandedCard","constructor","props","toggleExpandAdditionalContent","setState","expandAdditionalContent","state","notifyA","articleTitle","isLoaded","shareTitle","shareURL","cardExpanded","expandedCardContent","errorExpanded","cardIdFromprop","currentCardId","isPartOfBookmarksProp","isPartOfBookmarks","console","log","truncateDate","dateinput","substring","categoryHandler","category","toUpperCase","imageHandler","url","currentimage","elements","assets","length","file","e","bookmarkHandler","currentItem","retrievedObject","localStorage","getItem","arrayOfBookmarks","setItem","JSON","stringify","retrievedObjectNew","parse","push","componentDidMount","requiredURL","fetch","then","response","json","result","render","textAlign","paddingTop","bounceCss","fontSize","paddingLeft","paddingRight","content","webTitle","webPublicationDate","webUrl","color","blocks","main","alignContent","body","bodyTextSummary","ExpandedCardDiv","div"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\n//Cards\nimport styled from 'styled-components'\n\n//Truncating Content in Cards\nimport Truncate from 'react-truncate';\n\n//React Share\nimport ShareIcon from '@material-ui/icons/Share';\nimport {\n   EmailShareButton,\n   FacebookShareButton,\n   TwitterShareButton,\n   FacebookIcon,\n   EmailIcon,\n   TwitterIcon\n} from \"react-share\";\nimport { Modal, Button } from 'react-bootstrap';\n\n//Loader Spinner\nimport { css } from \"@emotion/core\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\n\n//Tooltip for hover over bookmarks\nimport ReactTooltip from 'react-tooltip';\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\n\n//Expand More\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\n\n//Time in text format\nimport Moment from 'react-moment';\n\n//Bookmarks \nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport BookmarkIcon from '@material-ui/icons/Bookmark';\n\n//Comment Box\nimport CommentBox from './CommentBox';\n\nclass ExpandedCard extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         isLoaded: false,\n         shareTitle: '',\n         shareURL: '',\n         cardExpanded: false,\n         expandedCardContent: {},\n         errorExpanded: null,\n         expandAdditionalContent: false,\n         cardIdFromprop: props.currentCardId,\n      };\n      this.props = {\n         isPartOfBookmarksProp: false\n      }\n      this.state.isPartOfBookmarks = this.props.isPartOfBookmarksProp;\n      console.log('Matrix World: ' + props.currentCardId);\n   }\n\n   truncateDate(dateinput) {\n      return dateinput.substring(0, 10);\n   }\n\n   categoryHandler(category) {\n      return category.toUpperCase();\n   }\n\n\n   imageHandler(url) {\n      let currentimage = '';\n      try {\n         currentimage = url.elements[0].assets[url.elements[0].assets.length - 1].file;\n      } catch (e) {\n         currentimage = 'https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png';\n      }\n      return currentimage;\n   }\n\n   toggleExpandAdditionalContent = () => {\n      this.setState({\n         expandAdditionalContent: !this.state.expandAdditionalContent\n      });\n   }\n\n   notifyA = articleTitle => toast('Saving ' + articleTitle);\n\n   bookmarkHandler(currentItem) {\n      //Checking whether other bookmarks exist\n      var retrievedObject = localStorage.getItem('bookmarks');\n\n      if (retrievedObject == null) {\n         // Put the object into storage\n         let arrayOfBookmarks = [{ 'origin': 'GUARDIAN', 'datacontent': currentItem }]\n         localStorage.setItem('bookmarks', JSON.stringify(arrayOfBookmarks));\n      }\n      else {\n         //Append it to the list and put it back into storage\n         let retrievedObjectNew = JSON.parse(retrievedObject)\n         retrievedObjectNew.push({ 'origin': 'GUARDIAN', 'datacontent': currentItem });\n         localStorage.setItem('bookmarks', JSON.stringify(retrievedObjectNew));\n      }\n\n   }\n\n   componentDidMount() {\n      //Fetching from the NodeJS backend\n      let requiredURL = \"http://localhost:9000/guardianAPIDetailed?id=\" + this.state.cardIdFromprop;\n      fetch(requiredURL)\n         .then(response => response.json())\n         .then(\n            // handle the result\n            (result) => {\n               this.setState({\n                  isLoaded: true,\n                  expandedCardContent: result.response\n               });\n               //console.log(this.state.posts)\n            },\n\n            // Handle error \n            (errorExpanded) => {\n               console.log(errorExpanded);\n               this.setState({\n                  isLoaded: true,\n                  errorExpanded: true\n               })\n            },\n         )\n   }\n\n   render() {\n      const { errorExpanded, isLoaded, expandedCardContent } = this.state;\n\n      if (errorExpanded) {\n         return <div>Error in loading...Please try again by clicking the same link...:)</div>\n      } else if (!isLoaded) {\n         //Handling when page not loaded\n         return <div style={{ textAlign: 'center', paddingTop: '100px' }}>\n            <BounceLoader\n               css={bounceCss}\n               size={35}\n               color={\"#4A68E2\"}\n               loading={!isLoaded}\n            />\n            Loading\n         </div>\n      } else {\n         return (\n            <div>\n               <ExpandedCardDiv>\n\n                  <div>\n                     <p style={{ fontSize: '40px', paddingLeft: '30px', paddingTop: '20px', paddingRight: '10px' }}><i> <b >{expandedCardContent.content.webTitle}</b>                  </i></p> {/* Title */}\n                     <div>\n                        <div id='wrapper'>\n                           <div id=\"leftexpanded\" style={{ paddingLeft: '30px', paddingRight: '30px', fontSize: '20px' }}>\n                              <Moment format=\"DD MMMM YYYY\">{this.truncateDate(expandedCardContent.content.webPublicationDate)}</Moment>\n                           </div>\n                           <div id=\"rightexpanded\">\n                              <div style={{ paddingLeft: '10px' }}>\n                                 <FacebookShareButton url={expandedCardContent.content.webUrl} hashtag='#CSCI_571_NewsApp' > <FacebookIcon size={34} round={true} /></FacebookShareButton>\n                                 <TwitterShareButton url={expandedCardContent.content.webUrl} title='#CSCI_571_NewsApp'><TwitterIcon size={34} round={true} /></TwitterShareButton>\n                                 <EmailShareButton style={{ paddingRight: '50px' }} url={expandedCardContent.content.webUrl} subject='#CSCI_571_NewsApp'><EmailIcon size={34} round={true} /></EmailShareButton>\n\n                                 <a data-tip=\"Bookmark\" onClick={() => { this.notifyA(expandedCardContent.content.webTitle); this.bookmarkHandler(expandedCardContent.content); this.setState({ isPartOfBookmarks: !this.state.isPartOfBookmarks }); }}>\n                                    {this.state.isPartOfBookmarks\n                                       ? <BookmarkIcon style={{ fontSize: 30, color: \"#b80000\" }} />\n                                       : <BookmarkBorderOutlinedIcon style={{ fontSize: 30, color: \"#b80000\" }} />\n                                    }\n                                 </a>\n                                 <ReactTooltip place=\"top\" type=\"dark\" effect=\"float\" />\n\n                              </div>\n                           </div>\n                        </div>\n                     </div>\n\n\n                     <div>< img class=\"img-thumbnail\" src={this.imageHandler(expandedCardContent.content.blocks.main)} alt=\"Image Is Loading...\" /></div>\n\n                     <p style={{ fontSize: '12px', paddingTop: '20px' }}>\n                        {!this.state.expandAdditionalContent &&\n                           <div>\n                              <Truncate lines={4} ellipsis={<span>... <br /><div style={{ alignContent: 'right' }}>\n                                 <div style={{ textAlign: 'right', paddingRight: '20px' }}>\n                                    <ExpandMoreIcon style={{ fontSize: '40px' }} onClick={e => this.toggleExpandAdditionalContent()} />\n                                 </div>\n                              </div></span>}>\n                                 {expandedCardContent.content.blocks.body[0].bodyTextSummary}\n                              </Truncate>\n                           </div>\n                        }\n                        {\n                           this.state.expandAdditionalContent &&\n                           <div>\n                              {expandedCardContent.content.blocks.body[0].bodyTextSummary}\n                              <div style={{ alignContent: 'right' }}>\n                                 <div style={{ textAlign: 'right', paddingRight: '20px' }}>\n                                    <ExpandLessIcon style={{ fontSize: '40px' }} onClick={e => this.toggleExpandAdditionalContent()} />\n                                 </div>\n                              </div>\n                           </div>\n                        }\n                     </p>\n                  </div>\n               </ExpandedCardDiv>\n               <CommentBox currentCardId={this.props.currentCardId} />\n            </div>\n         );\n      }\n   }\n}\n\nconst ExpandedCardDiv = styled.div`\n  background: #fff;\n  border-radius: 2px;\n  display: flex;\n  height: 100%;\n  margin: 1.5rem;\n  position: relative;\n  width: 98%;\n  box-shadow: 0.2px 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\n  /*box-shadow: 2.5px 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.23);*/\n   transition: all 0.3s cubic - bezier(.25, .8, .25, 1);\n   padding - top: 5px;\n  &: hover {\n      /*box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);*/\n      box - shadow: 2.5px 5px 10px rgba(0, 0, 0, 0.19), 0 3px 3px rgba(0, 0, 0, 0.23);\n      transform: translateY(-0.5px);\n   },\n   `;\n\nconst bounceCss = css`\n   display: block;\n   margin: 0 auto;\n   border - color: red;\n   `;\n\nexport default ExpandedCard;"]},"metadata":{},"sourceType":"module"}